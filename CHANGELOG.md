# 更新日志

本文件记录了项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- 完整的文档体系
- 自动化部署脚本
- 性能监控和告警
- 安全增强功能

### 改进
- 优化数据库查询性能
- 改进用户界面体验
- 增强错误处理机制
- 完善测试覆盖率

### 修复
- 修复兑换码并发问题
- 解决会话过期bug
- 修复邮件发送失败问题
- 解决前端页面加载缓慢

## [1.0.0] - 2025-01-12

### 新增
- 🎉 首次发布 ChatGPT 团队邀请管理系统
- 📱 完整的管理后台界面
- 🔐 安全的管理员认证系统
- 🎫 兑换码生成和管理功能
- 👥 母号和席位管理
- 📊 数据统计和可视化
- 📧 邀请邮件发送功能
- 🔍 搜索和筛选功能
- 📤 批量导入/导出功能
- 🗃️ 完整的审计日志
- 🛠️ 本地 GUI 录入工具

### 技术栈
- **后端**: FastAPI + SQLAlchemy + PostgreSQL
- **前端**: Next.js + TypeScript + Tailwind CSS
- **数据库**: PostgreSQL (生产) / SQLite (开发)
- **缓存**: Redis
- **容器化**: Docker + Docker Compose
- **反向代理**: Nginx

### 核心功能
- ✅ 母号管理：支持多母号，每母号7个席位
- ✅ 智能座位分配：按创建时间优先分配
- ✅ 兑换码系统：批量生成、状态管理
- ✅ 邀请管理：发送、重发、取消邀请
- ✅ 用户管理：查看、移除成员
- ✅ 数据统计：实时看板、趋势分析
- ✅ 批量操作：导入母号、批量管理
- ✅ 安全控制：会话管理、CSRF保护

### API 接口
- `POST /api/admin/login` - 管理员登录
- `GET /api/admin/me` - 获取当前用户信息
- `GET /api/admin/mothers` - 获取母号列表
- `POST /api/admin/mothers` - 创建母号
- `POST /api/admin/codes` - 生成兑换码
- `GET /api/admin/codes` - 获取兑换码列表
- `POST /api/redeem` - 公共兑换接口
- `GET /api/admin/stats` - 获取统计数据

### 安全特性
- 🔐 JWT 会话管理
- 🛡️ CSRF 保护
- 🔒 数据加密存储
- 📝 审计日志记录
- 🚦 API 频率限制
- 🌐 安全头配置

### 业务规则
- 每个母号固定7个席位
- 同一邮箱可加入多个不同团队
- 兑换码配额 = 活跃空位数 - 未使用兑换码数
- 母号选择优先级：创建时间 → 启用状态 → 空位可用性

---

## 版本说明

### 版本号格式
本项目使用语义化版本号：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 更新类型
- `新增` - 新功能
- `更改` - 对现有功能的更改
- `弃用` - 即将移除的功能
- `移除` - 已移除的功能
- `修复` - 问题修复
- `安全` - 安全相关的修复

### 发布周期
- **主版本**：根据重大功能更新发布
- **次版本**：每月发布（如有新功能）
- **修订版**：根据需要随时发布（bug修复）

---

## 贡献指南

如需贡献代码或报告问题，请：

1. 查看 [开发指南](./docs/DEVELOPMENT.md)
2. 在 [GitHub Issues](../../issues) 报告问题
3. 提交 Pull Request

## 支持

- 📖 [文档](./docs/)
- 🐛 [问题反馈](../../issues)
- 💬 [讨论区](../../discussions)

---

*最后更新：2025-01-12*